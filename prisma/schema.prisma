generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-1.1.x"]
}


datasource db {
  provider = "sqlite"
  url      = "file:./prisma/data.db"
}



model OfficialTeam {
  id                Int     @id @default(autoincrement())
  teamName          String
  callsign          String
  mainCid           Int
  aircraftType      String
  country           String
  participatingWf26 Boolean @default(false)
  createdAt         DateTime @default(now())
}

model Affiliate {
  id                Int     @id @default(autoincrement())
  callsign          String
  simType           String
  cid               Int
  participatingWf26 Boolean @default(false)
  createdAt         DateTime @default(now())
}

model DepFlow {
  id        Int    @id @default(autoincrement())
  sector    String @unique   // e.g. "EGCC-EGLL"
  rate      Int

  updatedAt DateTime @updatedAt
}
model TobtBooking {
  id            Int      @id @default(autoincrement())
  slotKey       String   @unique
  cid           Int?
  callsign      String
  from          String
  to            String
  dateUtc       String
  depTimeUtc    String
  tobtTimeUtc   String
  createdAt     DateTime @default(now())
}
model User {
  cid           Int     @id
  name          String
}
model Airport {
  icao     String   @id
  lat      Float
  lon      Float
  elev     Int?
  runways  Runway[]
}

model Runway {
  id           Int     @id @default(autoincrement())
  airportIcao  String
  ident1       String
  ident2       String
  lat1         Float
  lon1         Float
  lat2         Float
  lon2         Float

  airport Airport @relation(fields: [airportIcao], references: [icao])
}

model AirportScenery {
  id           Int      @id @default(autoincrement())

 icao String

  sim          Simulator
  name         String
  developer    String?
  store        String?
  url          String

  type         SceneryType

  submittedBy  String
  submittedAt  DateTime @default(now())

  approved     Boolean  @default(false)
  approvedBy   String?
  approvedAt   DateTime?

  @@index([icao])
  @@index([approved])
}

enum Simulator {
  MSFS
  XPLANE
  P3D
}

enum SceneryType {
  Freeware
  Payware
}
